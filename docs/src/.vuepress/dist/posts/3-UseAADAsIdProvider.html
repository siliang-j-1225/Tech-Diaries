<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Use Azure Active Directory as An Id Provider | Siliang&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.f28b372b.css" as="style"><link rel="preload" href="/assets/js/app.678bb97f.js" as="script"><link rel="preload" href="/assets/js/2.7a553382.js" as="script"><link rel="preload" href="/assets/js/13.ee917b3c.js" as="script"><link rel="prefetch" href="/assets/js/10.4a61f584.js"><link rel="prefetch" href="/assets/js/11.3573b09f.js"><link rel="prefetch" href="/assets/js/12.09c1fb95.js"><link rel="prefetch" href="/assets/js/14.db98f11b.js"><link rel="prefetch" href="/assets/js/3.f56b0e67.js"><link rel="prefetch" href="/assets/js/4.c6f00f70.js"><link rel="prefetch" href="/assets/js/5.813da34d.js"><link rel="prefetch" href="/assets/js/6.053ad5f0.js"><link rel="prefetch" href="/assets/js/7.30f2e299.js"><link rel="prefetch" href="/assets/js/8.7432022f.js"><link rel="prefetch" href="/assets/js/9.08cf7403.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f28b372b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Siliang's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/posts/" class="nav-link router-link-active">
  All Posts
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/posts/" class="nav-link router-link-active">
  All Posts
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>All Posts</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/posts/" aria-current="page" class="sidebar-link">Indexes</a></li><li><a href="/posts/1-WPFvsUWP.html" class="sidebar-link">WPF vs UWP</a></li><li><a href="/posts/2-ReleasePipelineOfSoliditySmartContract.html" class="sidebar-link">How to create release a pipeline of solidity smart contracts</a></li><li><a href="/posts/3-UseAADAsIdProvider.html" aria-current="page" class="active sidebar-link">Use Azure Active Directory as An Id Provider</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/3-UseAADAsIdProvider.html#what-is-an-id-provider" class="sidebar-link">What is an Id provider?</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="use-azure-active-directory-as-an-id-provider"><a href="#use-azure-active-directory-as-an-id-provider" class="header-anchor">#</a> Use Azure Active Directory as An Id Provider</h1> <p><em>2020/07</em></p> <p>This blog will show you how and when you need to use Azure Active Directory as an Id provider, to manage authentication/authorization for your application.</p> <h2 id="what-is-an-id-provider"><a href="#what-is-an-id-provider" class="header-anchor">#</a> What is an Id provider?</h2> <p>An Id provider is usually a service which offers to handle user authentication as an outsourcing entity.</p> <p>It helps to create, manage, and maintain identity and authorization information.</p> <p>Imagine that if you are going to create an EC site. End users will use this site to search products, pick things to carts and pay with credit card. In order to record necessary information like address, card number etc., users will need to login first</p> <p>Instead of establishing the whole</p> <ul><li>SSO (Id provider, token, validation)</li> <li>How do you make advantage of it</li></ul> <p>What is Azure AD</p> <ul><li>from ms doc</li></ul> <p>What is a token</p> <ul><li>access token &amp; id token</li></ul> <p>How to get access token? Two ways:
○ Public apps:
§ Web msal.js: Redirect or start auth dialog to ask user to input id and password, sample @BotWebsite
§ UWP C# Package:  Microsoft.Identity.Client: sample @FormDef UWP
○ Confidential apps:
§ Batch, CICD: use client id and secret</p> <p>What is needed to get AAD access token:
○ Tenant id
○ Client id
○ Scope ==&gt; clientid/.default</p> <p>How to Validate access token
○ JWT validation general way: With public key,  sample @ BotTokenFunction
○ API C# package:
using Microsoft.AspNetCore.Authentication;
using Microsoft.AspNetCore.Authentication.AzureAD.UI;</p> <div class="language- extra-class"><pre><code>	@sample API
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/posts/2-ReleasePipelineOfSoliditySmartContract.html" class="prev">
        How to create release a pipeline of solidity smart contracts
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.678bb97f.js" defer></script><script src="/assets/js/2.7a553382.js" defer></script><script src="/assets/js/13.ee917b3c.js" defer></script>
  </body>
</html>
